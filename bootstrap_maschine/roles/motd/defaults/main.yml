---
# defaults file for motd

motd_sysadmins_signature: "{{ motd_sysadmins_signature | default('SyS-Admin') }}"
motd_sysadmins_email: "{{ motd_sysadmins_email | default('us@linux-engineer.net') }}"

motd_info:
  - " System Information: "
  - " FQDN:    ": "{{ ansible_fqdn }}"
  - " Distro:  ": "{{ ansible_distribution }} {{ ansible_distribution_version }} {{ ansible_distribution_release }}"
  - " Virtual: ": "{{ '\033[0;32mYES\033[0m' if ansible_virtualization_role == 'guest' else '\033[0;31mNO\033[0m' }}"
  - " CPUs:    ": "{{ ansible_processor_vcpus }}"
  - " RAM:     ": "{{ (ansible_memtotal_mb / 1000) | round(1) }}GB"
  - " Network Information: "
  - " IP:      ": "{{ ansible_default_ipv4.address }}"
  - " Gateway: ": "{{ ansible_default_ipv4.gateway }}"
  - " Disk:    ": "{{ ansible_mounts[0].size_total / 1000 ** 3 | round(1) }}GB"

motd_content: |
  --------------------------------------------------------------------------
                      This system is managed by Ansible
  --------------------------------------------------------------------------

                   _     _                    _               
                  | |   | |                  | |              
             _ __ | | __| |__   _   _  _ __  | |_   ___  _ __ 
            | '__|| |/ /| '_ \ | | | || '_ \ | __| / _ \| '__|
            | |   |   < | | | || |_| || | | || |_ |  __/| |   
            |_|   |_|\_\|_| |_| \__,_||_| |_| \__| \___||_|   
                                                              

  Hostname:   {{ ansible_fqdn }}
  Distro:     {{ ansible_distribution }} {{ ansible_distribution_version }}
  Virtual:    {{ '\033[0;32mYES\033[0m' if ansible_virtualization_role == 'guest' else '\033[0;31mNO\033[0m' }}
  CPUs:       {{ ansible_processor_vcpus }}
  RAM:        {{ (ansible_memtotal_mb / 1000) | round(1) }}GB
  Disk:       {{ ansible_mounts[0].size_total / 1000 ** 3 | round(1) }}GB
  IP:         {{ ansible_default_ipv4.address }}
  Gateway:    {{ ansible_default_ipv4.gateway }}

  --------------------------------------------------------------------------
  Please contact your administrator at {{ motd_sysadmins_email }} if needed.
  --------------------------------------------------------------------------

  Last ansible run: {{ ansible_date_time.iso8601 }}